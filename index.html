<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>תרפיית מימדים</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&family=Heebo:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
     <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#4F46E5",
              secondary: "#7C3AED",
            },
            borderRadius: {
              none: "0px",
              sm: "4px",
              DEFAULT: "8px",
              md: "12px",
              lg: "16px",
              xl: "20px",
              "2xl": "24px",
              "3xl": "32px",
              full: "9999px",
              button: "8px",
            },
            fontFamily: {
              hebrew: ["Heebo", "sans-serif"],
            },
          },
        },
      };
    </script>
    <link rel="stylesheet" href="style.css" />
  
  </head>
  <body>
    <section class="hero">
      <div class="hero-content">
        <h1 class="text-5xl font-bold mb-4">תרפיית מימדים</h1>
        <p class="text-xl mb-6 max-w-2xl mx-auto">להוציא ממך אותך</p>
        <a href="#contactForm" class="btn">להתחלת המסע</a>
      </div>
    </section>

    <section class="section">
      <p class="text-2xl font-semibold mb-6">
        מרגישים שיש פער בין מה שאתם רוצים באמת – לבין מה שקורה בפועל?<br />יודעים
        מה הייתם רוצים לחוות, אבל משהו בפנים עדיין עוצר?
      </p>

      <p class="text-lg mb-6">
        אני מזמין אתכם לתהליך עמוק ועדין בשיטת
        <span class="highlight">תרפיית מימדים</span>, שבו העבודה אינה רק על
        מחשבות או התנהגות – אלא על האנרגיה הפנימית שמפעילה את החיים שלכם.
      </p>

      <p class="text-lg mb-6">
        <span class="highlight">המטרה שלי ברורה:</span><br />להביא אתכם אל המקום
        שבו המודע והתת־מודע פועלים ביחד – לא נלחמים זה בזה.<br />ליישר את מה
        שאתם מרגישים, חושבים ועושים – אל מה שאתם באמת רוצים להיות.
      </p>

      <p class="text-lg mb-6">
        אם אתם מרגישים שזה הזמן לשינוי אמיתי, פנימי, בלי מאבקים ובלי דרמה –
        השאירו שם וטלפון, ואחזור אליכם לשיחת הכוונה קצרה, נעימה, בלי התחייבות.
      </p>

      <section class="max-w-md mx-auto mb-16 fade-in">
        <div
          class="bg-white/95 backdrop-blur-lg rounded-2xl p-8 shadow-2xl pulse-glow"
        >
          <h2 class="text-2xl font-semibold text-gray-800 mb-6 text-center">
            הירשם עכשיו
          </h2>

          <form id="contactForm" class="space-y-6">
            <!-- שם מלא -->
            <div class="relative">
              <div
                class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"
              >
                <i class="ri-user-line text-gray-400 text-lg"></i>
              </div>
              <input
                type="text"
                id="fullname"
                placeholder="שם מלא"
                required
                autocomplete="name"
                class="w-full px-4 py-4 pr-12 text-lg border-none rounded-lg bg-gray-50 focus:bg-white focus:ring-2 focus:ring-primary focus:outline-none transition-all duration-300 text-right"
              />
            </div>

            <!-- טלפון -->
            <div class="relative">
              <div
                class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"
              >
                <i class="ri-phone-line text-gray-400 text-lg"></i>
              </div>
              <input
                type="tel"
                id="phone"
                placeholder="מספר טלפון"
                required
                pattern="[0-9]{10}"
                autocomplete="tel"
                class="w-full px-4 py-4 pr-12 text-lg border-none rounded-lg bg-gray-50 focus:bg-white focus:ring-2 focus:ring-primary focus:outline-none transition-all duration-300 text-right"
              />
            </div>

            <!-- אימייל -->
            <div class="relative">
              <div
                class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"
              >
                <i class="ri-mail-line text-gray-400 text-lg"></i>
              </div>
              <input
                type="email"
                id="email"
                placeholder="כתובת מייל"
                required
                autocomplete="email"
                class="w-full px-4 py-4 pr-12 text-lg border-none rounded-lg bg-gray-50 focus:bg-white focus:ring-2 focus:ring-primary focus:outline-none transition-all duration-300 text-right"
              />
            </div>

            <!-- כפתור שליחה -->
            <button
              type="submit"
              class="w-full bg-primary hover:bg-primary/90 text-white font-semibold py-4 px-6 rounded-2xl text-lg transition-all duration-300 transform hover:scale-105 cursor-pointer"
            >
              שלח
            </button>
          </form>

          <div id="result"></div>

          <p class="text-sm text-gray-600 text-center mt-4">
            <i
              class="ri-shield-check-line text-green-500 ml-1 w-4 h-4 inline-flex items-center justify-center"
            ></i>
            המייל שלכם מוגן ולא יועבר לצדדים שלישיים
          </p>
        </div>
      </section>

      <p class="text-gray-700 mt-10 text-lg">
        המסע מתחיל בצעד אחד קטן.<br />הצעד הזה יכול להיות השארת הפרטים שלכם
        עכשיו.
      </p>
    </section>

    <footer>© 2025 תרפיית מימדים – כל הזכויות שמורות</footer>

    <script id="scroll-animations">
      document.addEventListener("DOMContentLoaded", function () {
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        };
        const observer = new IntersectionObserver(function (entries) {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("visible");
            }
          });
        }, observerOptions);
        const fadeElements = document.querySelectorAll(".fade-in");
        fadeElements.forEach((el) => observer.observe(el));
      });
    </script>
    <script id="form-handling">
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contactForm");
        const result = document.getElementById("result");
        const submitButton = form.querySelector('button[type="submit"]');
        const originalButtonText = submitButton.textContent;

        form.addEventListener("submit", async function (e) {
          e.preventDefault();

          const email = document.getElementById("email").value;
          const fullname = document.getElementById("fullname").value;
          const phone = document.getElementById("phone").value;

          submitButton.classList.add("loading"); // מוסיף אנימציה של טעינה
          submitButton.textContent = "";
          submitButton.disabled = true;

          result.innerHTML = "";

          try {
            const response = await fetch("/api/subscribers", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ fullname, email, phone }),
            });

            const data = await response.json();

            setTimeout(() => {
              submitButton.classList.remove("loading");
              submitButton.textContent = originalButtonText;
              submitButton.disabled = false;

              if (response.ok) {
                result.innerHTML = `
                        <div class="success-message">
                            <div class="flex items-center justify-center mb-2">
                                <i class="ri-check-circle-fill text-2xl ml-2 w-6 h-6 flex items-center justify-center"></i>
                                <span class="font-semibold">נרשמתם בהצלחה!</span>
                            </div>
                            <p>הסרטונים נשלחו למייל שלכם. בדקו גם בתיקיית הספאם.</p>
                        </div>
                    `;
                form.reset();
              } else {
                result.innerHTML = `
                        <div class="error-message">
                            <div class="flex items-center justify-center mb-2">
                                <i class="ri-error-warning-fill text-2xl ml-2 w-6 h-6 flex items-center justify-center"></i>
                                <span class="font-semibold">שגיאה</span>
                            </div>
                            <p>${data.error || "אירעה שגיאה, אנא נסו שוב"}</p>
                        </div>
                    `;
              }

              setTimeout(() => {
                const messageElement = result.querySelector(
                  ".success-message, .error-message"
                );
                if (messageElement) messageElement.classList.add("show");
              }, 100);
            }, 1500);
          } catch (err) {
            setTimeout(() => {
              submitButton.classList.remove("loading");
              submitButton.textContent = originalButtonText;
              submitButton.disabled = false;

              result.innerHTML = `
                    <div class="error-message">
                        <div class="flex items-center justify-center mb-2">
                            <i class="ri-wifi-off-line text-2xl ml-2 w-6 h-6 flex items-center justify-center"></i>
                            <span class="font-semibold">שגיאת רשת</span>
                        </div>
                        <p>בדקו את החיבור לאינטרנט ונסו שוב</p>
                    </div>
                `;

              setTimeout(() => {
                const messageElement = result.querySelector(".error-message");
                if (messageElement) messageElement.classList.add("show");
              }, 100);
            }, 1500);
          }
        });
      });
    </script>

    <script id="smooth-scroll">
      document.addEventListener("DOMContentLoaded", function () {
        let ticking = false;
        function updateScrollEffects() {
          const scrolled = window.pageYOffset;
          const rate = scrolled * -0.5;
          const header = document.querySelector("header");
          if (header) {
            header.style.transform = `translateY(${rate}px)`;
          }
          ticking = false;
        }
        function requestTick() {
          if (!ticking) {
            requestAnimationFrame(updateScrollEffects);
            ticking = true;
          }
        }
        window.addEventListener("scroll", requestTick);
      });
    </script>
  </body>
</html>
